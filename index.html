<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="温故知新">
<meta property="og:type" content="website">
<meta property="og:title" content="小博客园">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="小博客园">
<meta property="og:description" content="温故知新">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小博客园">
<meta name="twitter:description" content="温故知新">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> 小博客园 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小博客园</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/27/wanfu2017/map1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/27/wanfu2017/map1/" itemprop="url">
                  前后端分离
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-27T00:00:00+08:00">
                2017-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="正确理解前后端分离"><a href="#正确理解前后端分离" class="headerlink" title="正确理解前后端分离"></a>正确理解前后端分离</h2><ul>
<li>前后端分离并不只是开发模式，而是Web应用的一种架构模式。</li>
<li>在开发期，前后端工程师可以通过约定好交互接口，实现并行开发；</li>
<li>在运行期，前后端分离模式需要对Web应用进行分离部署，前后端之间使用HTTP请求进行交互。<br>我们可以从交互形式、代码组织方式、开发模式三个方面对前后端分离进行认识。</li>
</ul>
<h3 id="交互形式"><a href="#交互形式" class="headerlink" title="交互形式"></a>交互形式</h3><ul>
<li>在前后端分离架构中，后端只需要负责按照约定的数据格式向前端提供可调用的API服务即可。</li>
<li>前后端之间通过HTTP请求进行交互，前端获取到数据后，进行页面的装配和渲染。</li>
</ul>
<h3 id="代码组织方式"><a href="#代码组织方式" class="headerlink" title="代码组织方式"></a>代码组织方式</h3><p><img src="images/codeType.jpg" alt="代码组织方式图"></p>
<ul>
<li>在传统架构模式中，前后端代码存放于同一个代码库中，甚至是同一工程目录下。页面中还夹杂着后端代码。前后端工程师进行开发时，都必须把整个项目导入到开发工具中。</li>
<li>而前后端分离模式在代码组织形式上有以下两种：<ul>
<li>半分离<br>前后端共用一个代码库，但是代码分别存放在两个工程中。<br>后端不关心或很少关心前端元素的输出情况，前端不能独立进行开发和测试，项目中缺乏前后端交互的测试用例。</li>
<li>分离<br>前后端代码库分离，前端代码中有可以进行Mock测试（通过构造虚拟测试对象以简化测试环境的方法）的伪后端，能支持前端的独立开发和测试。<br>而后端代码中除了功能实现外，还有着详细的测试用例，以保证API的可用性，降低集成风险。</li>
</ul>
</li>
</ul>
<h3 id="开发模式"><a href="#开发模式" class="headerlink" title="开发模式"></a>开发模式</h3><ul>
<li>在前后端分离架构中，前端工程师只需要编写HTML、js、CSS等前端资源，然后通过HTTP请求调用后端提供的服务即可。除了开发期的分离，在运行期前后端资源也会进行分离部署。</li>
</ul>
<h2 id="要“离”：几个好处"><a href="#要“离”：几个好处" class="headerlink" title="要“离”：几个好处:"></a>要“离”：几个好处:</h2><ol>
<li>提升开发效率</li>
<li>完美应对复杂多变的前端需求</li>
<li>增强代码可维护性</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/25/wanfu2017/缓存小结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/25/wanfu2017/缓存小结/" itemprop="url">
                  abc
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-25T00:00:00+08:00">
                2017-07-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>����������</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/02/wanfu2017/css规范小点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/02/wanfu2017/css规范小点/" itemprop="url">
                  css规范小点
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-02T00:00:00+08:00">
                2017-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><p>CSS 文件使用无 BOM 的 UTF-8 编码</p>
<h2 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h2><p>使用 4 个空格做为一个缩进层级，不允许使用 2 个空格 或 tab 字符</p>
<h2 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h2><ul>
<li>选择器 与 <code>{</code> 之间必须包含空格</li>
<li>属性名 与之后的 : 之间不允许包含空格， : 与 属性值 之间必须包含空格。</li>
<li>列表型属性值 书写在单行时，, 后必须跟一个空格。<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2></li>
<li>当集体声明多个 selector 时，每个选择器声明必须独占一行</li>
<li><code>&gt;</code>、<code>+</code>、<code>~</code> 选择器的两边各保留一个空格<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2></li>
<li>属性定义必须另起一行</li>
<li>属性定义后必须以分号结尾<h2 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h2></li>
<li>当元素需要撑起高度以包含内部的浮动元素时，通过对伪类设置 clear 或触发 BFC 的方式进行 clearfix。尽量不使用增加空标签的方式。</li>
<li>对已经触发 BFC 的元素不需要再进行 clearfix。<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2></li>
</ul>
<ol>
<li>选择器的嵌套层级应不大于 3 级，位置靠后的限定条件应尽可能精确</li>
<li>在可以使用缩写的情况下，尽量使用属性缩写</li>
<li>使用 border / margin / padding等缩写时，应注意隐含值对实际数值的影响，确实需要设置多个方向的值时才使用缩写</li>
<li>当数值为 0 - 1 之间的小数时，省略整数部分的 0</li>
<li>长度为 0 时须省略单位。 (也只有长度单位可省)</li>
<li>url() 函数中的路径不加引号</li>
<li>颜色值不允许使用命名色值</li>
<li>层级(z-index)必须清晰明确，页面弹窗、气泡为最高级（最高级为999），不同弹窗气泡之间可在三位数之间调整</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/04/wanfu2017/map/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/04/wanfu2017/map/" itemprop="url">
                  map方法巧用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-04T00:00:00+08:00">
                2017-04-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="jQuery-遍历-map-方法"><a href="#jQuery-遍历-map-方法" class="headerlink" title="jQuery 遍历 - map() 方法"></a>jQuery 遍历 - map() 方法</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(&quot;p&quot;).append( $(&quot;input&quot;).map(function()&#123;</div><div class="line">  return $(this).val();</div><div class="line">&#125;).get().join(&quot;, &quot;) );</div></pre></td></tr></table></figure>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>map() 把每个元素通过函数传递到当前匹配集合中，生成包含返回值的新的 jQuery 对象。</p>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p><code>.map(callback(index,domElement))</code></p>
<h2 id="详细说明"><a href="#详细说明" class="headerlink" title="详细说明"></a>详细说明</h2><ul>
<li>由于返回值是 jQuery 封装的数组，使用 get() 来处理返回的对象以得到基础的数组。</li>
<li><code>.map()</code> 方法对于获得或设置元素集的值特别有用<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;form method=&quot;post&quot; action=&quot;&quot;&gt;</div><div class="line">  &lt;fieldset&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;label for=&quot;two&quot;&gt;2&lt;/label&gt;</div><div class="line">      &lt;input type=&quot;checkbox&quot; value=&quot;2&quot; id=&quot;two&quot; name=&quot;number[]&quot;&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;label for=&quot;four&quot;&gt;4&lt;/label&gt;</div><div class="line">      &lt;input type=&quot;checkbox&quot; value=&quot;4&quot; id=&quot;four&quot; name=&quot;number[]&quot;&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;label for=&quot;six&quot;&gt;6&lt;/label&gt;</div><div class="line">      &lt;input type=&quot;checkbox&quot; value=&quot;6&quot; id=&quot;six&quot; name=&quot;number[]&quot;&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;label for=&quot;eight&quot;&gt;8&lt;/label&gt;</div><div class="line">      &lt;input type=&quot;checkbox&quot; value=&quot;8&quot; id=&quot;eight&quot; name=&quot;number[]&quot;&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;/fieldset&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>我们能够获得复选框 ID 组成的逗号分隔的列表：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(&apos;:checkbox&apos;).map(function() &#123;</div><div class="line">  return this.id;</div><div class="line">&#125;).get().join(&apos;,&apos;);</div></pre></td></tr></table></figure></p>
<p>在 callback 函数内部，this 引用每次迭代的当前 DOM 元素。该函数可返回单独的数据项，或者是要被插入结果集中的数据项的数组。如果返回的是数组，数组内的元素会被插入集合中。如果函数返回 null 或 undefined，则不会插入任何元素。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/01/wanfu2017/浏览器默认行为/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/01/wanfu2017/浏览器默认行为/" itemprop="url">
                  浏览器默认行为
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-01T00:00:00+08:00">
                2017-04-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="浏览器默认行为"><a href="#浏览器默认行为" class="headerlink" title="浏览器默认行为"></a>浏览器默认行为</h1><ul>
<li>history.go(-1)返回当前页的上一页，表单的数据还在。</li>
<li>history.back(-1)返回当前页的上一页，数据全部消失，是个新页面。</li>
<li>history.back(0)是刷新</li>
<li>location.reload()是刷新</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/01/vue/vue1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/01/vue/vue1/" itemprop="url">
                  vue基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-01T00:00:00+08:00">
                2017-03-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="搭建自动刷新环境"><a href="#搭建自动刷新环境" class="headerlink" title="搭建自动刷新环境"></a>搭建自动刷新环境</h2><p>创建一个 <code>package.josn</code> 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init -y</div></pre></td></tr></table></figure>
<p>安装 <code>browser-sync</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># npm install --save-dev browser-sync</span></div><div class="line"><span class="comment"># 将 browser-sync 包保存到开发依赖中</span></div><div class="line"><span class="comment"># 就可以执行 npm install 的时候加入 --production 选项不安装这个包</span></div><div class="line">npm i -D browser-sync</div></pre></td></tr></table></figure>
<p>在 package.json 文件中加入以下内容：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">  "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",</div><div class="line">  "start": "browser-sync start --server --directory --files \"code/*.html\""</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>打开终端，启动开发预览服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm start</div></pre></td></tr></table></figure>
<hr>
<h2 id="Vue-实例"><a href="#Vue-实例" class="headerlink" title="Vue 实例"></a>Vue 实例</h2><ul>
<li>每个 Vue.js 应用都是通过构造函数 Vue 创建的<ul>
<li>new Vue 可以认为是 ng 中的控制器</li>
<li>这个控制器管理 el 属性指定的节点</li>
</ul>
</li>
<li><p>在实例化 Vue 时，需要传入一个选项对象，它可以包含数据、模板、挂载元素、方法、生命周期钩子等选项</p>
<ul>
<li>data: 属性数据</li>
<li>computed: 计算属性</li>
<li>methods: 方法</li>
<li>el: 挂载点</li>
<li>directives: 自定义指令</li>
<li>filters: 自定义过滤器</li>
<li>…</li>
<li>全部选项可以在 API 文档中查看：<a href="https://cn.vuejs.org/v2/api/" target="_blank" rel="external">https://cn.vuejs.org/v2/api/</a></li>
</ul>
</li>
<li><p>实例选项：data</p>
<ul>
<li><a href="https://cn.vuejs.org/v2/guide/instance.html#属性与方法" target="_blank" rel="external">https://cn.vuejs.org/v2/guide/instance.html#属性与方法</a></li>
<li><a href="https://cn.vuejs.org/v2/api/#data" target="_blank" rel="external">选项/数据 - data</a></li>
<li><a href="https://cn.vuejs.org/v2/guide/reactivity.html" target="_blank" rel="external">深入响应式原理</a></li>
<li>作用：根据视图抽象数据模型，data 就是 ViewModel</li>
<li>data 就是数据驱动视图中的 数据</li>
<li><strong>注意：视图中使用的数据必须在 data 中初始化</strong></li>
<li>每个 Vue 实例都会代理其 data 对象里所有的属性<ul>
<li>也可以通过 vue 实例的 $data 属性访问 data 中的数据</li>
<li>建议：如果要使用 vm 读取或修改  data 中的数据，建议通过 <code>vm.$data</code> 去访问修改</li>
</ul>
</li>
<li>只有被初始代理的属性是响应式的<ul>
<li>如果是在实例创建之后添加新的属性到实例上，它不会触发视图更新</li>
</ul>
</li>
<li>Vue 不允许在已经创建的实例上动态添加新的根级响应式属性</li>
</ul>
<ul>
<li>Vue 不能检测到对象属性的动态添加或删除<ul>
<li>也就是说动态添加或删除的对象属性不是响应式的</li>
<li>如果希望动态添加和删除对象的属性是响应式的则需要通过：<ul>
<li><code>Vue.set( object, key, value )</code></li>
<li>或 <code>vm.$set( object, key, value )</code></li>
</ul>
</li>
<li>如果删除对象属性是响应式的：<ul>
<li><code>Vue.delete( object, key )</code></li>
<li>或 <code>vm.$delete( object, key )</code></li>
</ul>
</li>
<li>也就是说 data 中的对象成员如果动态的添加属性是不会得到视图的更新的</li>
<li>如果想要动态添加和删除的时候得到视图的更新则一定要通过 vm.$set 或者 vm.$delete 来处理</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>实例选项：methods</p>
<ul>
<li><a href="https://cn.vuejs.org/v2/api/#methods" target="_blank" rel="external">https://cn.vuejs.org/v2/api/#methods</a></li>
<li>作用：为视图交互提供行为函数</li>
<li>可以在行为函数中通过 <code>this</code> 访问 data 中的数据成员</li>
<li>注意：methods 中的行为函数不要写箭头函数<ul>
<li>因为这样会改变内部 this 的指向</li>
</ul>
</li>
</ul>
</li>
<li><p>实例属性</p>
<ul>
<li>vue 实例可以直接访问 data 中的数据成员</li>
<li>也可以通过 实例.$data.data中的数据成员 进行访问</li>
<li>建议使用 实例.$data.数据成员 去修改</li>
<li><a href="https://cn.vuejs.org/v2/api/#实例属性" target="_blank" rel="external">https://cn.vuejs.org/v2/api/#实例属性</a></li>
<li>$data<ul>
<li>Vue 实例观察的数据对象。Vue 实例代理了对其 data 对象属性的访问。</li>
</ul>
</li>
<li>$el<ul>
<li>Vue 实例使用的根 DOM 元素</li>
</ul>
</li>
</ul>
</li>
<li><p>实例方法/数据</p>
<ul>
<li><a href="https://cn.vuejs.org/v2/api/#实例方法-数据" target="_blank" rel="external">https://cn.vuejs.org/v2/api/#实例方法-数据</a></li>
<li>$watch<ul>
<li>可以用来监视数据成员的变化，当数据成员发生变化，执行 watch 函数</li>
</ul>
</li>
<li>$set  Vue.set 的别名</li>
<li>$delete Vue.delete 的别名</li>
</ul>
</li>
</ul>
<hr>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/06/13/wanfu2017/cookie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/13/wanfu2017/cookie/" itemprop="url">
                  Cookie
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-13T00:00:00+08:00">
                2016-06-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><ul>
<li>ά���ٿ�-Cookie��<a href="https://zh.wikipedia.org/zh-hans/Cookie" target="_blank" rel="external">https://zh.wikipedia.org/zh-hans/Cookie</a></li>
</ul>
<h3 id="ʲo��-Cookie"><a href="#ʲo��-Cookie" class="headerlink" title="ʲô�� Cookie"></a>ʲô�� Cookie</h3><p>Cookie ��ʵ��BS����ģ�͵�һ�� <strong>״̬����</strong> ����������<br>����ʵ��������ס�ҡ����ﳵ����ס�û����ȹ��ܡ�</p>
<h3 id="Cookie-��������ʲo������"><a href="#Cookie-��������ʲo������" class="headerlink" title="Cookie ��������ʲô������"></a>Cookie ��������ʲô������</h3><p>BS����ģ�ͣ�HTTP������״̬�ģ�<br>Ҳ����˵�������ͷ����������Ĺ�����ÿһ�ν�������һ���µ���������Ӧ��<br>�����Ļ����ǵ���һЩ���⣬������ϣ����ס��ͬ�û��Ĳ�ͬ״̬��<br>��ͬ�û��Ĺ��ﳵ��״̬���ݾͱȽ��鷳�ˡ�</p>
<p>��״̬��ʵҲ���Ǿ���һЩ���Ƶģ�</p>
<ul>
<li>���ٷ���������Դ����</li>
</ul>
<p>������״̬Э������������Ҫ�������Ƶ�ì������������ Cookie ������</p>
<h3 id="����ʹ��"><a href="#����ʹ��" class="headerlink" title="����ʹ��"></a>����ʹ��</h3><ul>
<li>Cookie ����ͨ������������Ӧ����ͷ�м��� Cookie ��Ϣ��ʵ�ֿͻ���״̬����</li>
<li>Cookie �����ݴӷ��������͵���Ӧ����ͷ�е� Set-Cookie �ײ���Ϣ�ֶΣ�ͨ���ͻ��˱��� Cookie</li>
<li>���´οͻ��������÷�������������ʱ���ͻ��˻��Զ������������м��� Cookie ֵ�����͸�������</li>
<li>�����˷��ֿͻ��˷��͹����� Cookie ��<ul>
<li>����ȥ�����Ǵ��ĸ��ͻ��˷��͵�����������Ȼ���Աȷ������ϵļ�¼</li>
<li>�����õ�֮ǰ��״̬��Ϣ</li>
</ul>
</li>
</ul>
<h3 id="Cookie-�k���"><a href="#Cookie-�k���" class="headerlink" title="Cookie �ķ���"></a>Cookie �ķ���</h3><ul>
<li>�Ự Cookie</li>
<li>�־� Cookie</li>
</ul>
<h3 id="Cookie-��ʹ�o���"><a href="#Cookie-��ʹ�o���" class="headerlink" title="Cookie ��ʹ�ó���"></a>Cookie ��ʹ�ó���</h3><h3 id="Cookie-��o��"><a href="#Cookie-��o��" class="headerlink" title="Cookie ��ȱ��"></a>Cookie ��ȱ��</h3><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/07/node/node5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/07/node/node5/" itemprop="url">
                  MongoDB
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-07T00:00:00+08:00">
                2016-05-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h2><blockquote>
<p>Ϊ�˸��õ�ѧϰ MongoDB ���ݿ⣬���ҿ��Բο������̳��ϵ� MongoDB ���ݿ��̳��ĵ���<br>���ӵ�ַ��<a href="http://www.runoob.com/mongodb/mongodb-tutorial.html" target="_blank" rel="external">http://www.runoob.com/mongodb/mongodb-tutorial.html</a></p>
</blockquote>
<h3 id="����"><a href="#����" class="headerlink" title="����"></a>����</h3><ul>
<li>�ǹ�ϵ�����ݿ�<ul>
<li>����Ҫ��ǰ���Ʊ��ṹ</li>
<li>�����ĺô����Ƿǳ�����</li>
<li>�洢���� json ����</li>
<li>�ǹ�ϵ�����ݿ�Ҳ�кܶ࣬���� MongoDB ����ٮٮ��</li>
</ul>
</li>
<li>��ϵ�����ݿ�<ul>
<li>MySQL</li>
<li>Oracle</li>
<li>DB2</li>
<li>Microsoft SqlServer</li>
<li>���й�ϵ�����ݿⶼ���</li>
<li>���Ǳ�����ϵ�����е��ֶ����ݣ�������֮���Ĺ�ϵ</li>
<li>��ͬ�㣺�������б��ṹ�ſ��Բ���������</li>
<li>������������ҵ�񳡾��Ĳ����ݱ䣬���ᷢ�ֱ���ҪƵ����ȥ�޸�</li>
</ul>
</li>
</ul>
<h3 id="��װ"><a href="#��װ" class="headerlink" title="��װ"></a>��װ</h3><h3 id="������ֹͣ"><a href="#������ֹͣ" class="headerlink" title="������ֹͣ"></a>������ֹͣ</h3><p>����ͨ��ʹ�ð�װ�����е� <code>mongod</code> CLIӦ�ó��������� MongoDB ������<br>ֱ���ڿ���̨���룺<code>mongod</code> �ûس����ɡ�</p>
<p>��������ʱ�򣬿���ͨ�� <code>--dbpath</code> ָ�����ݷ����洢���ݵ�Ŀ¼��<br>������ָ����Ŀ¼��<br>Ĭ�� <code>mongod</code> ��ȥִ�и������ĵ�ǰĿ¼�������̸�Ŀ¼����<code>/data/db</code> ��Ϊ�Լ������ݴ洢Ŀ¼��</p>
<p>64 λ�汾���� MongoDB ���ݷ�����</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mongod --dbpath=C:\data\db</div><div class="line">mongod --dbpath C:\data\db</div></pre></td></tr></table></figure>
<p>32 λ�汾ʹ�������������������ݷ�����</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongod --dbpath ���ݴ洢·�� --journal --storageEngine=mmapv1</div></pre></td></tr></table></figure>
<p>��ʾ���������� <code>--dbpath</code>, mongod ���Զ�ʹ�� <code>ִ�������������̸�Ŀ¼/data/db</code> Ŀ¼��Ϊ�Լ������ݴ洢·����<br>���ԣ�������ǰ�����Ѿ����� <code>���̸�·��\data\db</code> Ŀ¼�ˣ�����ʡ�� <code>--dbpath</code>��</p>
<p>ִ��������������ɹ����� MongoDB ���ݷ���ʵ��֮�󣬾ͰѸÿ���̨��С����һ�߾Ϳ����ˣ�<br>ǧ����Ҫ�رգ������ر��ն˾��ǹر����ݿ��ˣ�<br>���������ݿ��Ĳ������������Դ򿪸ÿ���̨ͨ�� <code>Ctrl + C</code> �رջ���ֱ�ӹر��նˡ�</p>
<h3 id="����-MongoDB"><a href="#����-MongoDB" class="headerlink" title="���� MongoDB"></a>���� MongoDB</h3><p><strong>ע�⣺�ڽ�������֮ǰ��ȷ�����ķ���ʵ���ǿ���״̬�ģ���Ҫ�رողſ��������ݷ���ʵ������</strong></p>
<p>����һ���µĿ���̨���ڿ���̨�������������������ӱ����� MongoDB ����ʵ����</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongo</div></pre></td></tr></table></figure>
<p>mongo ����Ĭ��ȥ���ӱ����ϵ� MongoDB ����ʵ����<code>127.0.0.1:27017</code>������ͨ������������<br>ָ�����ӵ��������Ͷ˿ںţ�</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongo --host 127.0.0.1 --port 27017</div></pre></td></tr></table></figure>
<p>�����������������µ�����˵�����ӳɹ���</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">MongoDB shell version v3.4.0</div><div class="line">connecting to: mongodb://127.0.0.1:27017</div><div class="line">MongoDB server version: 3.4.0</div><div class="line">Server has startup warnings:</div><div class="line">2017-01-18T18:49:53.865+0800 I CONTROL  [initandlisten]</div><div class="line">2017-01-18T18:49:53.865+0800 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.</div><div class="line">2017-01-18T18:49:53.866+0800 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.</div><div class="line">2017-01-18T18:49:53.866+0800 I CONTROL  [initandlisten]</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>������ʾ ���޷����������������������� MongoDB ���ݷ���ʵ���Ƿ�������</p>
<h3 id="MongoDB-���ݴ洢�u"><a href="#MongoDB-���ݴ洢�u" class="headerlink" title="MongoDB ���ݴ洢�ṹ"></a>MongoDB ���ݴ洢�ṹ</h3><ul>
<li>��ͳ�Ĺ�ϵ�����ݿ��д洢�ṹ<ul>
<li>һ�������ϰ�װ���ݿ���ʵ���ǰ�װ��һ�����ݷ���ʵ��</li>
<li>һ�����ݷ���ʵ���Ͽ����ж������ݿ�<ul>
<li>a ��վ���û�</li>
<li>b ��վ���û�</li>
<li>a ��վ���û�����b ��վ���û���</li>
</ul>
</li>
<li>һ�����ݿ��п����ж��ű�</li>
<li>һ�ű��п��Դ洢������¼����</li>
</ul>
</li>
<li>���ݷ���ʵ�� -&gt; ���ݿ� -&gt; �� -&gt; ��¼</li>
</ul>
<ul>
<li>��һ�����ݷ����п����ж������ݿ�</li>
<li>��һ�����ݿ��п����ж�������<ul>
<li>�� MongoDB �У��ѱ���֮Ϊ����</li>
<li>���ϼ�����������һ������</li>
</ul>
</li>
<li>��һ�������п����ж���������json������mongodb �г�֮Ϊ�ĵ���,��һ�������� json ����<ul>
<li>��֮Ϊ bson</li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  a: &#123;</div><div class="line">    users: [</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;,</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;</div><div class="line">      ...</div><div class="line">    ],</div><div class="line">    articles: [</div><div class="line">      &#123; title: 'xxx', content: '', time: '' &#125;,</div><div class="line">      &#123; title: 'xxx', content: '', time: '' &#125;,</div><div class="line">      &#123; title: 'xxx', content: '', time: '' &#125;,</div><div class="line">      &#123; title: 'xxx', content: '', time: '' &#125;,</div><div class="line">      &#123; title: 'xxx', content: '', time: '' &#125;,</div><div class="line">      ...</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  b: &#123;</div><div class="line">    users: [</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;,</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;</div><div class="line">      &#123; username: 'xxx', password: 'xxx', age: 'xxx', gender: 'xx' &#125;</div><div class="line">      ...</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">  c: &#123;  &#125;</div><div class="line">&#125;</div><div class="line">a ���ݿ�</div><div class="line">   �û����ݣ��û�����[]</div><div class="line">   �������ݣ����¼���[]</div><div class="line">   �������ݣ����ۼ���[]</div><div class="line">   ��Ʒ���ݣ���Ʒ����[]</div><div class="line">   �������ݣ���������[]</div><div class="line"></div><div class="line">b ���ݿ�</div><div class="line"></div><div class="line">c ���ݿ�</div></pre></td></tr></table></figure>
<h3 id="������������"><a href="#������������" class="headerlink" title="������������"></a>������������</h3><ul>
<li><code>show dbs</code><ul>
<li>�鿴��ǰ����ʵ�������е����ݿ�</li>
</ul>
</li>
<li><code>use ���ݿ�����</code><ul>
<li>����������ʾ�л���ָ�������ݿ�</li>
<li>����û�У�Ҳ���ᴴ��</li>
<li>�����Ѿ����ˣ�����ʾ�л����������ݿ��Ը����ݿ����в���</li>
<li>���ӵ����ݿ�֮����Ĭ����һ������������db���ն�Ĭ�ϰ� db ��ֵ���� test</li>
</ul>
</li>
<li><code>db</code><ul>
<li>�鿴��ǰ���������ݿ�</li>
</ul>
</li>
<li><code>db.��������.insert(�����ĵ�)</code></li>
<li><code>show collections</code><ul>
<li>�鿴��ǰ���ݿ������еļ���</li>
</ul>
</li>
<li><code>db.��������.find()</code><ul>
<li>��ѯָ�����������е�����</li>
<li>����ͨ�� <code>db.��������.find().pretty()</code> ����������ʽ</li>
<li>Ĭ���ǲ�ѯ���У�����ͨ����<code>db.��������.find({��ѯ����})</code> ��������ѯ�����е�����</li>
</ul>
</li>
<li><code>db.��������.update({��������}, {Ҫ���µ��ֶ�})</code><ul>
<li>����ָ����������</li>
</ul>
</li>
<li><code>db.��������.remove({ɾ������})</code><ul>
<li>ɾ��ָ�������е�����</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ʹ��-MongoDB-�ٷ��s��-mongodb-����������-MongoDB-���ݿ�"><a href="#ʹ��-MongoDB-�ٷ��s��-mongodb-����������-MongoDB-���ݿ�" class="headerlink" title="ʹ�� MongoDB �ٷ��ṩ�� mongodb ���������� MongoDB ���ݿ�"></a>ʹ�� MongoDB �ٷ��ṩ�� mongodb ���������� MongoDB ���ݿ�</h2><p>��װ��</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i -S mongodb</div></pre></td></tr></table></figure>
<p>CRUD��</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongodb = <span class="built_in">require</span>(<span class="string">'mongodb'</span>)</div><div class="line"></div><div class="line"><span class="comment">// ����·��URL</span></div><div class="line"><span class="keyword">var</span> url = <span class="string">'mongodb://localhost:27017/itcast'</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> MongoClient = mongodb.MongoClient</div><div class="line"></div><div class="line"><span class="comment">// ================== �������� ==================</span></div><div class="line"><span class="comment">// 1. �������ݿ⣨�򿪱����ţ�</span></div><div class="line"><span class="comment">// MongoClient.connect(url, function (err, db) &#123;</span></div><div class="line"><span class="comment">//   if (err) &#123;</span></div><div class="line"><span class="comment">//     throw new Error('����ʧ��')</span></div><div class="line"><span class="comment">//   &#125;</span></div><div class="line"></div><div class="line"><span class="comment">//   // 2. �Ѵ����ŵ�����</span></div><div class="line"><span class="comment">//   db</span></div><div class="line"><span class="comment">//     .collection('heros')</span></div><div class="line"><span class="comment">//     .insert(&#123; name: '�ŷ�', gender: '��', age: 23 &#125;, function (err, result) &#123;</span></div><div class="line"><span class="comment">//       if (err) &#123;</span></div><div class="line"><span class="comment">//         throw new Error('��������ʧ��')</span></div><div class="line"><span class="comment">//       &#125;</span></div><div class="line"><span class="comment">//       console.log(result)</span></div><div class="line"></div><div class="line"><span class="comment">//       // 3. ���ϱ�����</span></div><div class="line"><span class="comment">//       db.close()</span></div><div class="line"><span class="comment">//     &#125;)</span></div><div class="line"><span class="comment">// &#125;)</span></div><div class="line"><span class="comment">// ================== /�������� ==================</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ================== ��ѯ���� ==================</span></div><div class="line"><span class="comment">// MongoClient.connect(url, function (err, db) &#123;</span></div><div class="line"><span class="comment">//   if (err) &#123;</span></div><div class="line"><span class="comment">//     throw new Error('����ʧ��')</span></div><div class="line"><span class="comment">//   &#125;</span></div><div class="line"></div><div class="line"><span class="comment">//   // ��ѯ����</span></div><div class="line"><span class="comment">//   // db.collection('heros').find(&#123;&#125;).toArray(function (err, docs) &#123;</span></div><div class="line"><span class="comment">//   //   if (err) &#123;</span></div><div class="line"><span class="comment">//   //     throw new Error('��ѯ����ʧ��')</span></div><div class="line"><span class="comment">//   //   &#125;</span></div><div class="line"><span class="comment">//   //   console.log(docs)</span></div><div class="line"><span class="comment">//   // &#125;)</span></div><div class="line"></div><div class="line"><span class="comment">//   // ��������ѯ</span></div><div class="line"><span class="comment">//   db.collection('heros').find(&#123;name: '�ŷ�'&#125;).toArray(function (err, docs) &#123;</span></div><div class="line"><span class="comment">//     if (err) &#123;</span></div><div class="line"><span class="comment">//       throw new Error('��ѯ����ʧ��')</span></div><div class="line"><span class="comment">//     &#125;</span></div><div class="line"><span class="comment">//     console.log(docs)</span></div><div class="line"><span class="comment">//   &#125;)</span></div><div class="line"><span class="comment">// &#125;)</span></div><div class="line"><span class="comment">// ================== /��ѯ���� ==================</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ================== �������� ==================</span></div><div class="line"><span class="comment">// MongoClient.connect(url, function (err, db) &#123;</span></div><div class="line"><span class="comment">//   if (err) &#123;</span></div><div class="line"><span class="comment">//     throw new Error('����ʧ��')</span></div><div class="line"><span class="comment">//   &#125;</span></div><div class="line"><span class="comment">//   db.collection('heros').updateOne(&#123;name: '�ŷ�'&#125;, &#123;</span></div><div class="line"><span class="comment">//     $set: &#123;</span></div><div class="line"><span class="comment">//       age: 20</span></div><div class="line"><span class="comment">//     &#125;</span></div><div class="line"><span class="comment">//   &#125;, function (err, result) &#123;</span></div><div class="line"><span class="comment">//     if (err) &#123;</span></div><div class="line"><span class="comment">//       throw new Error('����ʧ��')</span></div><div class="line"><span class="comment">//     &#125;</span></div><div class="line"><span class="comment">//     console.log(result)</span></div><div class="line"><span class="comment">//   &#125;)</span></div><div class="line"><span class="comment">// &#125;)</span></div><div class="line"><span class="comment">// ================== /�������� ==================</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ================== ɾ������ ==================</span></div><div class="line"><span class="comment">// MongoClient.connect(url, function (err, db) &#123;</span></div><div class="line"><span class="comment">//   if (err) &#123;</span></div><div class="line"><span class="comment">//     throw new Error('����ʧ��')</span></div><div class="line"><span class="comment">//   &#125;</span></div><div class="line"><span class="comment">//   db.collection('heros').deleteOne(&#123;name: '�ŷ�'&#125;, function (err, result) &#123;</span></div><div class="line"><span class="comment">//     if (err) &#123;</span></div><div class="line"><span class="comment">//       throw new Error('ɾ��ʧ��')</span></div><div class="line"><span class="comment">//     &#125;</span></div><div class="line"><span class="comment">//     console.log(result)</span></div><div class="line"><span class="comment">//   &#125;)</span></div><div class="line"><span class="comment">// &#125;)</span></div><div class="line"><span class="comment">// ================== /ɾ������ ==================</span></div></pre></td></tr></table></figure>
<h2 id="mongoose"><a href="#mongoose" class="headerlink" title="mongoose"></a>mongoose</h2><p>mongoose �ǻ��� mongodb ֮�Ϸ�װ��һ�� ORM ���ܣ�<br>������ʹ�õ�ʱ��ֻ��Ҫ��עҵ������ģ�;Ϳ����ˡ�</p>
<ul>
<li>Github��<a href="https://github.com/Automattic/mongoose" target="_blank" rel="external">https://github.com/Automattic/mongoose</a></li>
<li>������<a href="http://mongoosejs.com/" target="_blank" rel="external">http://mongoosejs.com/</a></li>
<li>�ٷ�ָ�ϣ�<a href="http://mongoosejs.com/docs/guide.html" target="_blank" rel="external">http://mongoosejs.com/docs/guide.html</a></li>
</ul>
<h3 id="����-1"><a href="#����-1" class="headerlink" title="����"></a>����</h3><p>��װ��</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save mongoose</div></pre></td></tr></table></figure>
<p>hello world��</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</div><div class="line">mongoose.connect(<span class="string">'mongodb://localhost/test'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> kittySchema = mongoose.Schema(&#123;</div><div class="line">    <span class="attr">name</span>: <span class="built_in">String</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">var</span> Kitten = mongoose.model(<span class="string">'Kitten'</span>, kittySchema);</div><div class="line"></div><div class="line"><span class="keyword">var</span> silence = <span class="keyword">new</span> Kitten(&#123; <span class="attr">name</span>: <span class="string">'Silence'</span> &#125;);</div><div class="line"><span class="built_in">console</span>.log(silence.name); <span class="comment">// 'Silence'</span></div><div class="line"></div><div class="line">silence.save(<span class="function"><span class="keyword">function</span> (<span class="params">err, fluffy</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err);</div><div class="line">  fluffy.speak();</div><div class="line">&#125;);</div><div class="line"></div><div class="line">Kitten.find(<span class="function"><span class="keyword">function</span> (<span class="params">err, kittens</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err);</div><div class="line">  <span class="built_in">console</span>.log(kittens);</div><div class="line">&#125;)</div><div class="line"></div><div class="line">Kitten.find(&#123; <span class="attr">name</span>: <span class="regexp">/^fluff/</span> &#125;, callback);</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/05/node/node4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/05/node/node4/" itemprop="url">
                  Express
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-05T00:00:00+08:00">
                2016-05-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><ul>
<li>作者：<a href="https://github.com/tj" target="_blank" rel="external">https://github.com/tj</a></li>
<li>Github：<a href="https://github.com/expressjs/express" target="_blank" rel="external">https://github.com/expressjs/express</a></li>
<li>官网：<a href="http://expressjs.com/" target="_blank" rel="external">http://expressjs.com/</a></li>
<li>中文翻译：<a href="http://www.expressjs.com.cn/" target="_blank" rel="external">http://www.expressjs.com.cn/</a></li>
<li>awesome-express: <a href="https://github.com/wabg/awesome-express" target="_blank" rel="external">https://github.com/wabg/awesome-express</a></li>
</ul>
<h3 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h3><p>安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save express</div></pre></td></tr></table></figure>
<p>hello world：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</div><div class="line"><span class="keyword">var</span> app = express()</div><div class="line"></div><div class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'Hello World!'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Example app listening on port 3000!'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>基本路由：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'Hello World!'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.post(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'Got a POST request'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.put(<span class="string">'/user'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'Got a PUT request at /user'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.delete(<span class="string">'/user'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'Got a DELETE request at /user'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="Express-中外置路由使用"><a href="#Express-中外置路由使用" class="headerlink" title="Express 中外置路由使用"></a>Express 中外置路由使用</h3><p>router.js 文件代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1. 加载 express 模块</span></div><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</div><div class="line"></div><div class="line"><span class="comment">// 2. 调用 express.Router() 方法，得到一个路由容器实例</span></div><div class="line"><span class="keyword">var</span> router = express.Router()</div><div class="line"></div><div class="line"><span class="comment">// 3. 为 router 添加不同的路由</span></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'hello express'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">router.get(<span class="string">'/add'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">&#125;)</div><div class="line"></div><div class="line">router.get(<span class="string">'/info'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// 4. 将 router 路由容器导出</span></div><div class="line"><span class="built_in">module</span>.exports = router</div></pre></td></tr></table></figure>
<p>在 app.js 文件中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</div><div class="line"></div><div class="line"><span class="comment">// 1. 加载路由模块</span></div><div class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">'./router'</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> app = express()</div><div class="line"></div><div class="line"><span class="comment">// 2. 将路由模块导出的路由容器 router 通过 app.use() 方法挂载到 app 实例上</span></div><div class="line"><span class="comment">//    这样的话咱们的 app 实例程序就拥有了 router 的路由了</span></div><div class="line">app.use(router)</div><div class="line"></div><div class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'running...'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="在-Express-中处理静态资源"><a href="#在-Express-中处理静态资源" class="headerlink" title="在 Express 中处理静态资源"></a>在 Express 中处理静态资源</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">app.use(express.static(<span class="string">'public'</span>))</div><div class="line">app.use(express.static(<span class="string">'files'</span>))</div><div class="line"></div><div class="line">app.use(<span class="string">'/public'</span>, express.static(<span class="string">'public'</span>))</div><div class="line">app.use(<span class="string">'/aaa'</span>, express.static(<span class="string">'public'</span>))</div><div class="line"></div><div class="line">app.use(<span class="string">'/static'</span>, express.static(path.join(__dirname, <span class="string">'public'</span>)))</div></pre></td></tr></table></figure>
<h3 id="使用-Express-中的路由"><a href="#使用-Express-中的路由" class="headerlink" title="使用 Express 中的路由"></a>使用 Express 中的路由</h3><h3 id="在-Express-中使用-ejs-模板引擎"><a href="#在-Express-中使用-ejs-模板引擎" class="headerlink" title="在 Express 中使用 ejs 模板引擎"></a>在 Express 中使用 ejs 模板引擎</h3><p>安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i -S ejs</div></pre></td></tr></table></figure>
<p>配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'ejs'</span>)</div><div class="line"></div><div class="line"><span class="comment">// Express 默认去 views 目录中查找视图模板文件，可以通过下面的 API 修改</span></div><div class="line">app.set(<span class="string">'views'</span>, 模板文件存储路径)</div></pre></td></tr></table></figure>
<p>如果要自定义修改模板文件的 <code>.ejs</code> 后缀或者修改 <code>&lt;%</code> 语法，则需要通过加载 <code>ejs</code> 模块做详细配置</p>
<h3 id="Express-中间件"><a href="#Express-中间件" class="headerlink" title="Express 中间件"></a>Express 中间件</h3><h4 id="中间件函数"><a href="#中间件函数" class="headerlink" title="中间件函数"></a>中间件函数</h4><h4 id="中间件执行流程"><a href="#中间件执行流程" class="headerlink" title="中间件执行流程"></a>中间件执行流程</h4><h4 id="中间件使用场景"><a href="#中间件使用场景" class="headerlink" title="中间件使用场景"></a>中间件使用场景</h4><h4 id="第三方中间件推荐"><a href="#第三方中间件推荐" class="headerlink" title="第三方中间件推荐"></a>第三方中间件推荐</h4><h3 id="在-Express-中使用中间件处理-404-页面"><a href="#在-Express-中使用中间件处理-404-页面" class="headerlink" title="在 Express 中使用中间件处理 404 页面"></a>在 Express 中使用中间件处理 404 页面</h3><h3 id="在-Express-中使用中间件全局处理错误"><a href="#在-Express-中使用中间件全局处理错误" class="headerlink" title="在 Express 中使用中间件全局处理错误"></a>在 Express 中使用中间件全局处理错误</h3><h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><ul>
<li>express()</li>
<li>Application</li>
<li>Request</li>
<li>Response</li>
<li>Router</li>
</ul>
<hr>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/02/node/node3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="明月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wuliannan.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小博客园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/02/node/node3/" itemprop="url">
                  模块化
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-02T00:00:00+08:00">
                2016-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Node-中的模块化"><a href="#Node-中的模块化" class="headerlink" title="Node 中的模块化"></a>Node 中的模块化</h2><h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>Node 中的模块化采用了 CommonJS 模块规范，CommonJS 不仅仅是模块规范，<br>它为 JavaScript 制定了很多服务端的所谓的规范（API），例如二进制操作、网络操作等。</p>
<ul>
<li>require</li>
<li>exports<ul>
<li>exports 是 module.exports 的一个引用，也就是一个别名</li>
<li></li>
</ul>
</li>
<li>module.exports</li>
</ul>
<h3 id="模块分类"><a href="#模块分类" class="headerlink" title="模块分类"></a>模块分类</h3><ul>
<li>核心模块<ul>
<li>由 node 本身提供，通过唯一的模块标识名进行加载</li>
<li>核心模块本质上也是文件模块，它已经被编译到了可执行文件中了</li>
</ul>
</li>
<li>第三方模块<ul>
<li>由社区提供</li>
</ul>
</li>
<li>用户自定义模块<ul>
<li>咱们自己写的</li>
</ul>
</li>
</ul>
<h3 id="require-加载模块查找规则"><a href="#require-加载模块查找规则" class="headerlink" title="require 加载模块查找规则"></a>require 加载模块查找规则</h3><p>require 函数接收的参数叫做模块标识符：</p>
<ul>
<li>核心模块<ul>
<li>先看下有缓存，如果有直接拿过来</li>
<li>如果没有，则直接加载</li>
</ul>
</li>
<li>自己写的模块<ul>
<li>以 <code>./</code> 或者 <code>../</code> 或者 <code>/</code> 或者 <code>c:/xxx</code> 类似于这样的标识路径</li>
<li><code>/</code> 是当前文件模块所属磁盘根目录</li>
<li><code>c:/xxx</code> 就是绝对路径</li>
</ul>
</li>
<li>第三方模块：包<ul>
<li>先基于当前文件模块所属目录找 node_modules 目录</li>
<li>如果找到，则去该目录中找 moment 目录</li>
<li>如果找到 moment 目录，则找该目录中的 package.json 文件</li>
<li>如果找到 package.json 文件，则找该文件中的 main 属性</li>
<li>如果找到 main 属性，则拿到该属性对应的文件路径</li>
<li>如果找到 moment 目录之后<ul>
<li>发现没有 package.json </li>
<li>或者 有 package.json 没有 main 属性</li>
<li>或者 有 main 属性，但是指向的路径不存在</li>
<li>则 node 会默认去看一下 moment 目录中有没有 index.js index.node index.json 文件</li>
</ul>
</li>
<li>如果找不到 index 或者找不到 moment 或者找不到 node_modules</li>
<li>则进入上一级目录找 node_moudles 查找规则同上</li>
<li>如果上一级还找不到，继续向上，一直到当前文件所属磁盘根目录，</li>
<li>如果最后到磁盘根目录还找不到，最后报错：<code>can not find module xxx</code></li>
</ul>
</li>
</ul>
<hr>
<h2 id="path-模块"><a href="#path-模块" class="headerlink" title="path 模块"></a>path 模块</h2><h2 id="fs-模块"><a href="#fs-模块" class="headerlink" title="fs 模块"></a>fs 模块</h2><h2 id="http-模块"><a href="#http-模块" class="headerlink" title="http 模块"></a>http 模块</h2><h3 id="http-模块相关属性及方法"><a href="#http-模块相关属性及方法" class="headerlink" title="http 模块相关属性及方法"></a>http 模块相关属性及方法</h3><ul>
<li>http.METHODS<ul>
<li>获取 http 支持的请求方法</li>
</ul>
</li>
<li>http.STATUS_CODES<ul>
<li>获取 http 模块支持的状态码</li>
</ul>
</li>
<li>http.createClient([port][, host])<ul>
<li>创建客户端，使用 Node 发送请求</li>
</ul>
</li>
<li>http.createServer([requestListener])<ul>
<li>创建服务器，接收客户端请求</li>
</ul>
</li>
<li>http.get(options[, callback])<ul>
<li>发起 get 请求</li>
</ul>
</li>
<li>http.globalAgent</li>
<li>http.request(options[, callback])<ul>
<li>发请求</li>
</ul>
</li>
</ul>
<h3 id="Class-http-Server-服务实例对象"><a href="#Class-http-Server-服务实例对象" class="headerlink" title="Class: http.Server 服务实例对象"></a>Class: http.Server 服务实例对象</h3><p>事件：</p>
<ul>
<li>Event: ‘checkContinue’</li>
<li>Event: ‘checkExpectation’</li>
<li>Event: ‘clientError’</li>
<li>Event: ‘close’</li>
<li>Event: ‘connect’</li>
<li>Event: ‘connection’</li>
<li>Event: ‘request’<ul>
<li>请求事件</li>
</ul>
</li>
<li>Event: ‘upgrade’</li>
</ul>
<p>方法：</p>
<ul>
<li>server.close([callback])<ul>
<li>关闭服务器</li>
</ul>
</li>
<li>server.listen(handle[, callback])<ul>
<li>绑定监听</li>
</ul>
</li>
<li>server.listen(path[, callback])<ul>
<li>绑定监听</li>
</ul>
</li>
<li>server.listen([port][, hostname][, backlog][, callback])<ul>
<li>绑定监听</li>
</ul>
</li>
<li>server.listening</li>
<li>server.maxHeadersCount</li>
<li>server.setTimeout(msecs, callback)</li>
<li>server.timeout</li>
</ul>
<h3 id="Class-http-ServerResponse-响应对象"><a href="#Class-http-ServerResponse-响应对象" class="headerlink" title="Class: http.ServerResponse 响应对象"></a>Class: http.ServerResponse 响应对象</h3><p>事件：</p>
<ul>
<li>Event: ‘close’</li>
<li>Event: ‘finish’</li>
</ul>
<p>方法：</p>
<ul>
<li>response.addTrailers(headers)</li>
<li>response.end([data][, encoding][, callback])<ul>
<li>结束响应</li>
</ul>
</li>
<li>response.finished</li>
<li>response.getHeader(name)</li>
<li>response.headersSent</li>
<li>response.removeHeader(name)</li>
<li>response.sendDate</li>
<li>response.setHeader(name, value)</li>
<li>response.setTimeout(msecs, callback)</li>
<li>response.statusCode<ul>
<li>状态码</li>
</ul>
</li>
<li>response.statusMessage<ul>
<li>状态短语</li>
</ul>
</li>
<li>response.write(chunk[, encoding][, callback])<ul>
<li>写入响应流数据</li>
</ul>
</li>
<li>response.writeContinue()</li>
<li>response.writeHead(statusCode[, statusMessage][, headers])<ul>
<li>写入响应头</li>
</ul>
</li>
</ul>
<h3 id="Request（http-IncomingMessage）请求对象"><a href="#Request（http-IncomingMessage）请求对象" class="headerlink" title="Request（http.IncomingMessage）请求对象"></a>Request（http.IncomingMessage）请求对象</h3><p>事件：</p>
<p>Event: ‘aborted’<br>Event: ‘close’</p>
<p>方法：</p>
<ul>
<li>message.destroy([error])</li>
<li>message.headers<ul>
<li>获取请求头</li>
</ul>
</li>
<li>message.httpVersion<ul>
<li>获取 http 协议版本</li>
</ul>
</li>
<li>message.method<ul>
<li>获取请求方法</li>
</ul>
</li>
<li>message.rawHeaders</li>
<li>message.rawTrailers</li>
<li>message.setTimeout(msecs, callback)</li>
<li>message.statusCode</li>
<li>message.statusMessage</li>
<li>message.socket</li>
<li>message.trailers</li>
<li>message.url<ul>
<li>获取请求路径</li>
</ul>
</li>
</ul>
<hr>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/wuliannan.jpg"
               alt="明月" />
          <p class="site-author-name" itemprop="name">明月</p>
           
              <p class="site-description motion-element" itemprop="description">温故知新</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">明月</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
